{/*
  Sovereign Academy â€” Interactive Lesson
  Topic : Intro to Ratios â€” comparing quantities, three forms, part-to-whole
  Level : Grade 6
  Node  : T11_6_0
  Lang  : English
*/}

import { useSignal, useComputed } from "@preact/signals";

{/* â”€â”€ COMPONENT 1: RatioBuilder â€” click to add/remove items, live ratio â”€â”€ */}
export function RatioBuilder() {
  const red = useSignal(3);
  const blue = useSignal(5);
  const MAX = 12;
  function inc(sig) { if (sig.value < MAX) sig.value++; }
  function dec(sig) { if (sig.value > 0) sig.value--; }
  const r = red.value;
  const b = blue.value;

  return (
    <div style={{ background: "#2b2d31", borderRadius: "10px", padding: "20px 24px", margin: "16px 0", border: "1px solid #3f4147" }}>
      <div style={{ fontSize: "12px", color: "#949ba4", textTransform: "uppercase", letterSpacing: "0.06em", marginBottom: "12px" }}>Interactive Ratio Builder</div>

      {/* Red row */}
      <div style={{ display: "flex", alignItems: "center", gap: "10px", marginBottom: "8px" }}>
        <button onClick={() => dec(red)} style={{ width: "28px", height: "28px", background: "#383a40", border: "1px solid #4e5058", borderRadius: "4px", color: "#f2f3f5", fontSize: "16px", cursor: "pointer", display: "flex", alignItems: "center", justifyContent: "center" }}>âˆ’</button>
        <span style={{ color: "#f23f43", fontWeight: "700", fontSize: "16px", minWidth: "20px", textAlign: "center" }}>{r}</span>
        <button onClick={() => inc(red)} style={{ width: "28px", height: "28px", background: "#383a40", border: "1px solid #4e5058", borderRadius: "4px", color: "#f2f3f5", fontSize: "16px", cursor: "pointer", display: "flex", alignItems: "center", justifyContent: "center" }}>+</button>
        <div style={{ display: "flex", gap: "4px", flexWrap: "wrap" }}>
          {Array.from({ length: r }, (_, i) => (
            <span key={i} style={{ fontSize: "20px" }}>ğŸ”´</span>
          ))}
        </div>
      </div>

      {/* Blue row */}
      <div style={{ display: "flex", alignItems: "center", gap: "10px", marginBottom: "16px" }}>
        <button onClick={() => dec(blue)} style={{ width: "28px", height: "28px", background: "#383a40", border: "1px solid #4e5058", borderRadius: "4px", color: "#f2f3f5", fontSize: "16px", cursor: "pointer", display: "flex", alignItems: "center", justifyContent: "center" }}>âˆ’</button>
        <span style={{ color: "#5865f2", fontWeight: "700", fontSize: "16px", minWidth: "20px", textAlign: "center" }}>{b}</span>
        <button onClick={() => inc(blue)} style={{ width: "28px", height: "28px", background: "#383a40", border: "1px solid #4e5058", borderRadius: "4px", color: "#f2f3f5", fontSize: "16px", cursor: "pointer", display: "flex", alignItems: "center", justifyContent: "center" }}>+</button>
        <div style={{ display: "flex", gap: "4px", flexWrap: "wrap" }}>
          {Array.from({ length: b }, (_, i) => (
            <span key={i} style={{ fontSize: "20px" }}>ğŸ”µ</span>
          ))}
        </div>
      </div>

      {/* Live ratio display */}
      {r === 0 && b === 0
        ? <div style={{ color: "#949ba4", fontSize: "13px" }}>Add some items to build a ratio!</div>
        : <div style={{ display: "flex", gap: "16px", flexWrap: "wrap" }}>
            <div style={{ background: "#313338", borderRadius: "6px", padding: "8px 14px", borderLeft: "4px solid #f0b232" }}>
              <div style={{ color: "#949ba4", fontSize: "10px", textTransform: "uppercase", letterSpacing: "0.06em", marginBottom: "2px" }}>Words</div>
              <div style={{ color: "#f2f3f5", fontSize: "16px", fontWeight: "600" }}>{r} to {b}</div>
            </div>
            <div style={{ background: "#313338", borderRadius: "6px", padding: "8px 14px", borderLeft: "4px solid #5865f2" }}>
              <div style={{ color: "#949ba4", fontSize: "10px", textTransform: "uppercase", letterSpacing: "0.06em", marginBottom: "2px" }}>Colon</div>
              <div style={{ color: "#f2f3f5", fontSize: "16px", fontWeight: "600" }}>{r} : {b}</div>
            </div>
            <div style={{ background: "#313338", borderRadius: "6px", padding: "8px 14px", borderLeft: "4px solid #23a55a" }}>
              <div style={{ color: "#949ba4", fontSize: "10px", textTransform: "uppercase", letterSpacing: "0.06em", marginBottom: "2px" }}>Fraction</div>
              <div style={{ color: "#f2f3f5", fontSize: "16px", fontWeight: "600" }}>{r}/{b}</div>
            </div>
          </div>
      }

      {/* Tape diagram */}
      {(r > 0 || b > 0) && (
        <div style={{ marginTop: "14px" }}>
          <svg viewBox={`0 0 320 36`} style={{ width: "100%", maxWidth: "400px", display: "block" }}>
            {(() => {
              const total = r + b || 1;
              const rw = (r / total) * 300;
              const bw = (b / total) * 300;
              return (
                <g>
                  <rect x="10" y="4" width={rw} height="28" rx="4" fill="#f23f43" opacity="0.8" />
                  {rw > 30 && <text x={10 + rw / 2} y="22" text-anchor="middle" fill="#f2f3f5" font-size="12" font-family="sans-serif" font-weight="700">{r}</text>}
                  <rect x={10 + rw} y="4" width={bw} height="28" rx="4" fill="#5865f2" opacity="0.8" />
                  {bw > 30 && <text x={10 + rw + bw / 2} y="22" text-anchor="middle" fill="#f2f3f5" font-size="12" font-family="sans-serif" font-weight="700">{b}</text>}
                </g>
              );
            })()}
          </svg>
        </div>
      )}
    </div>
  );
}

{/* â”€â”€ COMPONENT 2: OrderMatters â€” swap sides to see effect â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */}
export function OrderMatters() {
  const swapped = useSignal(false);
  const a = 4, b = 7;
  const first = swapped.value ? b : a;
  const second = swapped.value ? a : b;
  const label1 = swapped.value ? "girls" : "boys";
  const label2 = swapped.value ? "boys" : "girls";
  return (
    <div style={{ background: "#2b2d31", borderRadius: "10px", padding: "16px 20px", margin: "16px 0", border: "1px solid #3f4147", textAlign: "center" }}>
      <div style={{ fontSize: "12px", color: "#949ba4", textTransform: "uppercase", letterSpacing: "0.06em", marginBottom: "10px" }}>âš¡ Does order matter?</div>
      <div style={{ marginBottom: "14px" }}>
        <span style={{ fontSize: "13px", color: "#b5bac1" }}>In a class: </span>
        <span style={{ color: "#5865f2", fontWeight: "700" }}>4 boys</span>
        <span style={{ fontSize: "13px", color: "#b5bac1" }}> and </span>
        <span style={{ color: "#f23f43", fontWeight: "700" }}>7 girls</span>
      </div>
      <div style={{ fontSize: "22px", fontWeight: "700", color: "#f2f3f5", marginBottom: "8px" }}>
        <span style={{ color: swapped.value ? "#f23f43" : "#5865f2" }}>{label1}</span>
        <span style={{ color: "#949ba4" }}> : </span>
        <span style={{ color: swapped.value ? "#5865f2" : "#f23f43" }}>{label2}</span>
        <span style={{ color: "#949ba4" }}> = </span>
        <span style={{ color: "#f0b232" }}>{first} : {second}</span>
      </div>
      <button onClick={() => (swapped.value = !swapped.value)} style={{ background: "#5865f2", border: "none", borderRadius: "6px", padding: "8px 20px", color: "#fff", fontSize: "13px", fontWeight: "600", cursor: "pointer" }}>
        ğŸ”„ Swap the order
      </button>
      <div style={{ marginTop: "10px", fontSize: "12px", color: swapped.value ? "#f0b232" : "#949ba4", transition: "color 0.2s" }}>
        {swapped.value
          ? "âš ï¸ Different order â†’ different meaning! Now it is girls to boys."
          : "Click swap to see why order matters in ratios."}
      </div>
    </div>
  );
}

{/* â”€â”€ COMPONENT 3: PartWholeExplorer â€” radio toggle part-to-part vs part-to-whole â”€â”€ */}
export function PartWholeExplorer() {
  const mode = useSignal("part");
  const blueCount = 2;
  const yellowCount = 3;
  const total = blueCount + yellowCount;
  const isPart = mode.value === "part";
  const leftVal = blueCount;
  const rightVal = isPart ? yellowCount : total;
  const rightLabel = isPart ? "yellow" : "all marbles";
  const rightColor = isPart ? "#f0b232" : "#b5bac1";
  return (
    <div style={{ background: "#2b2d31", borderRadius: "10px", padding: "16px 20px", margin: "16px 0", border: "1px solid #3f4147" }}>
      <div style={{ fontSize: "12px", color: "#949ba4", textTransform: "uppercase", letterSpacing: "0.06em", marginBottom: "10px" }}>Part-to-Part vs Part-to-Whole</div>
      <div style={{ marginBottom: "12px", fontSize: "14px", color: "#b5bac1" }}>
        A bag has <strong style={{ color: "#5865f2" }}>2 blue</strong> and <strong style={{ color: "#f0b232" }}>3 yellow</strong> marbles ({total} total).
      </div>
      <div style={{ display: "flex", gap: "8px", marginBottom: "14px" }}>
        <button onClick={() => (mode.value = "part")} style={{ flex: 1, background: isPart ? "#3c3f75" : "#383a40", border: `1px solid ${isPart ? "#5865f2" : "#4e5058"}`, borderRadius: "6px", padding: "8px", color: isPart ? "#f2f3f5" : "#b5bac1", fontSize: "13px", fontWeight: "600", cursor: "pointer" }}>Part-to-Part</button>
        <button onClick={() => (mode.value = "whole")} style={{ flex: 1, background: !isPart ? "#3c3f75" : "#383a40", border: `1px solid ${!isPart ? "#5865f2" : "#4e5058"}`, borderRadius: "6px", padding: "8px", color: !isPart ? "#f2f3f5" : "#b5bac1", fontSize: "13px", fontWeight: "600", cursor: "pointer" }}>Part-to-Whole</button>
      </div>
      {/* Visual */}
      <div style={{ display: "flex", justifyContent: "center", gap: "6px", marginBottom: "10px", fontSize: "20px" }}>
        <span>ğŸ”µ</span><span>ğŸ”µ</span>
        <span style={{ color: "#949ba4", fontSize: "16px", alignSelf: "center", margin: "0 4px" }}>vs</span>
        {isPart
          ? <><span>ğŸŸ¡</span><span>ğŸŸ¡</span><span>ğŸŸ¡</span></>
          : <><span>ğŸ”µ</span><span>ğŸ”µ</span><span>ğŸŸ¡</span><span>ğŸŸ¡</span><span>ğŸŸ¡</span></>
        }
      </div>
      <div style={{ textAlign: "center", fontSize: "20px", fontWeight: "700", color: "#f2f3f5" }}>
        <span style={{ color: "#5865f2" }}>blue</span>
        <span style={{ color: "#949ba4" }}> : </span>
        <span style={{ color: rightColor }}>{rightLabel}</span>
        <span style={{ color: "#949ba4" }}> = </span>
        <span style={{ color: "#f0b232" }}>{leftVal} : {rightVal}</span>
      </div>
      <div style={{ marginTop: "10px", textAlign: "center", fontSize: "12px", color: "#b5bac1" }}>
        {isPart
          ? "Comparing one group to another group."
          : "Comparing one group to the total (all marbles)."}
      </div>
    </div>
  );
}

{/* â”€â”€ COMPONENT 4: Quiz â€” 5 MCQs about ratios â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */}
export function Quiz() {
  const qs = [
    { q: "A recipe uses 2 cups of flour and 3 cups of sugar. What is the ratio of flour to sugar?",
      choices: ["3 : 2", "2 : 3", "2 : 5", "5 : 2"], correct: 1,
      hint: "Flour first (2), then sugar (3) â†’ 2 : 3" },
    { q: "There are 5 cats and 8 dogs at a shelter. What is the ratio of dogs to cats?",
      choices: ["5 : 8", "8 : 5", "5 : 13", "8 : 13"], correct: 1,
      hint: "Dogs first (8), then cats (5) â†’ 8 : 5" },
    { q: "A bag has 3 red, 4 blue, and 5 green counters. What is the ratio of red to total?",
      choices: ["3 : 9", "3 : 5", "3 : 12", "12 : 3"], correct: 2,
      hint: "Total = 3 + 4 + 5 = 12, so red to total = 3 : 12" },
    { q: "Which of these is NOT a valid way to write a ratio?",
      choices: ["5 to 3", "5 : 3", "5 Ã— 3", "5/3"], correct: 2,
      hint: "Multiplication (Ã—) is not a ratio notation. Words, colon, and fraction are the three valid forms." },
    { q: "\"4 : 7\" and \"7 : 4\" represent the same ratio.",
      choices: ["True", "False"], correct: 1,
      hint: "Order matters in ratios! 4 : 7 â‰  7 : 4" },
  ];
  const answers = useSignal(Array(qs.length).fill(null));
  const done = useSignal(false);
  const score = answers.value.filter((a, i) => a === qs[i].correct).length;
  function pick(qi, ci) { if (done.value) return; const n = [...answers.value]; n[qi] = ci; answers.value = n; }
  const letters = ["A","B","C","D"];
  return (
    <div style={{ margin: "20px 0" }}>
      {qs.map((q, qi) => {
        const chosen = answers.value[qi];
        const ok = chosen === q.correct;
        return (
          <div key={qi} style={{ background: "#2b2d31", borderRadius: "10px", padding: "16px 20px", marginBottom: "10px", border: done.value ? `1px solid ${ok ? "#23a55a" : "#f23f43"}` : "1px solid #3f4147", transition: "border-color 0.2s" }}>
            <p style={{ margin: "0 0 10px", fontWeight: "600", color: "#f2f3f5", fontSize: "14px" }}>Q{qi + 1}. {q.q}</p>
            <div style={{ display: "flex", flexDirection: "column", gap: "6px" }}>
              {q.choices.map((c, ci) => {
                let bg = "#383a40", border = "#4e5058", color = "#b5bac1";
                if (chosen === ci && !done.value) { bg = "#3c3f75"; border = "#5865f2"; color = "#f2f3f5"; }
                if (done.value && ci === q.correct) { bg = "#1e3a2a"; border = "#23a55a"; color = "#23a55a"; }
                if (done.value && chosen === ci && ci !== q.correct) { bg = "#3a1e1e"; border = "#f23f43"; color = "#f23f43"; }
                return <button key={ci} onClick={() => pick(qi, ci)} style={{ background: bg, border: `1px solid ${border}`, borderRadius: "6px", padding: "8px 12px", color, fontSize: "13px", textAlign: "left", cursor: done.value ? "default" : "pointer", transition: "all 0.15s" }}>{letters[ci]}. {c}</button>;
              })}
            </div>
            {done.value && <p style={{ margin: "8px 0 0", fontSize: "12px", color: ok ? "#23a55a" : "#f23f43" }}>{ok ? "âœ“ Correct! " : "âœ— "}<span style={{ color: "#b5bac1" }}>{q.hint}</span></p>}
          </div>
        );
      })}
      {!done.value
        ? <button onClick={() => (done.value = true)} disabled={answers.value.includes(null)} style={{ background: answers.value.includes(null) ? "#3f4147" : "#5865f2", border: "none", borderRadius: "6px", padding: "10px 24px", color: answers.value.includes(null) ? "#949ba4" : "#fff", fontSize: "14px", fontWeight: "600", cursor: answers.value.includes(null) ? "not-allowed" : "pointer", marginTop: "6px" }}>Submit Answers</button>
        : <div style={{ padding: "12px 16px", borderRadius: "8px", fontSize: "15px", fontWeight: "700", marginTop: "6px", background: score === 5 ? "#1e3a2a" : score >= 3 ? "#2a2d1e" : "#3a1e1e", color: score === 5 ? "#23a55a" : score >= 3 ? "#f0b232" : "#f23f43", border: `1px solid ${score === 5 ? "#23a55a" : score >= 3 ? "#f0b232" : "#f23f43"}` }}>
            {score === 5 ? "ğŸ‰ Perfect 5/5!" : score >= 3 ? `â­ ${score}/5 â€” Almost there!` : `ğŸ“– ${score}/5 â€” Review the lesson and retry.`}
            <button onClick={() => { answers.value = Array(qs.length).fill(null); done.value = false; }} style={{ marginLeft: "12px", background: "transparent", border: "1px solid currentColor", borderRadius: "4px", padding: "2px 10px", color: "inherit", cursor: "pointer", fontSize: "12px" }}>Retry</button>
          </div>}
    </div>
  );
}

---

# ğŸ“ Intro to Ratios

## What You'll Learn

A **ratio** is a way to compare two quantities. After this lesson you will be able to:

- Describe what a ratio means in words and symbols
- Write a ratio in **three different ways**
- Tell the difference between part-to-part and part-to-whole comparisons

---

## Key Idea

A ratio compares **two quantities** that are related to each other.

> There are **3 red apples** and **5 green apples** in a bowl.

The **ratio** of red apples to green apples is:

$$
\text{red} : \text{green} = 3 : 5
$$

---

## Three Ways to Write a Ratio

All three of these mean exactly the same thing:

| Form | Example |
|------|---------|
| Words | $3 \text{ to } 5$ |
| Colon | $3 : 5$ |
| Fraction | $\dfrac{3}{5}$ |

> âš ï¸ **Order matters!** $3 : 5$ is **not** the same as $5 : 3$.
> Always write the quantities **in the order the question asks**.

### Try it â€” does swapping matter?

<OrderMatters />

---

## Build a Ratio

Use the buttons below to add or remove red and blue items.
Watch how all three ratio forms update in real time:

<RatioBuilder />

---

## Worked Examples

### Example 1 â€” Simple Comparison

> In a class there are **4 boys** and **7 girls**. Write the ratio of boys to girls.

**Step 1:** Identify what is being compared.

$$
\text{boys} : \text{girls}
$$

**Step 2:** Write the numbers in the correct order.

$$
4 : 7
$$

**Answer:** The ratio of boys to girls is $4 : 7$ (or "$4$ to $7$" or $\tfrac{4}{7}$).

---

### Example 2 â€” Ratio from a Picture

> ğŸ”µ ğŸ”µ ğŸ”µ ğŸ”´ ğŸ”´
>
> What is the ratio of blue circles to red circles?

**Count:** 3 blue, 2 red

$$
\text{blue} : \text{red} = 3 : 2
$$

---

### Example 3 â€” Part-to-Whole

> A bag has **2 blue marbles** and **3 yellow marbles** (5 total).
> What is the ratio of blue marbles to **all** marbles?

Here we compare a **part** to the **whole**:

$$
\text{blue} : \text{all} = 2 : 5
$$

### Explore: Part-to-Part vs Part-to-Whole

Toggle the mode below to see how the ratio changes:

<PartWholeExplorer />

---

## Common Mistakes

| âŒ Mistake | âœ… Correct |
|-----------|-----------|
| Writing the ratio backwards | Always match the order in the question |
| Simplifying when not asked | Leave $4 : 6$ as-is unless told to simplify |
| Thinking ratio $=$ fraction always | $2 : 3$ compares parts; $\tfrac{2}{3}$ means part of a whole |

---

## Key Vocabulary

| Word | Meaning |
|------|---------|
| **Ratio** | A comparison of two quantities |
| **Terms** | The two numbers in a ratio (e.g. in $3:5$, the terms are $3$ and $5$) |
| **Part-to-Part** | Comparing one group to another group |
| **Part-to-Whole** | Comparing one group to the total |

---

## Key Formula

$$
\boxed{a : b = \frac{a}{b} = a \text{ to } b}
$$

All three forms describe the same ratio. The **order** of $a$ and $b$ determines the meaning.

---

## âœï¸ Check Your Understanding

Answer all five questions, then hit **Submit Answers**:

<Quiz />

---

## Ready?

When you can answer all the questions above, click **Start Practice** to try the
graded exercises for this node.

---

*Next lesson â†’ [T11\_6\_1 â€” Visualize Ratios](/lesson/T11_6_1_EN)*
